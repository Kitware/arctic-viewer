<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>Composite | ArcticViewer</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://kitware.github.io/arctic-viewer/docs/formats/CompositeFormat.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://kitware.github.io/arctic-viewer/docs/formats/CompositeFormat.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/arctic-viewer/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/arctic-viewer/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/arctic-viewer/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/arctic-viewer/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/arctic-viewer/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/arctic-viewer/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/arctic-viewer/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/arctic-viewer/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/arctic-viewer/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/arctic-viewer/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/arctic-viewer/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/arctic-viewer/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/arctic-viewer/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/arctic-viewer/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  <link rel="stylesheet" href="/arctic-viewer/css/navy.css">
  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/arctic-viewer/atom.xml" title="ArcticViewer">
  <!-- Open Graph -->
  <meta name="description" content="IntroductionThe ParaView ArcticViewer is able to load several type of datasets, but this guide will focus on the basic composite one and will explain what are the requirements for it so you could crea">
<meta property="og:type" content="website">
<meta property="og:title" content="Composite">
<meta property="og:url" content="https://kitware.github.io/arctic-viewer/docs/formats/CompositeFormat.html">
<meta property="og:site_name" content="ArcticViewer">
<meta property="og:description" content="IntroductionThe ParaView ArcticViewer is able to load several type of datasets, but this guide will focus on the basic composite one and will explain what are the requirements for it so you could crea">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://kitware.github.io/arctic-viewer/docs/formats/composite-sprite.jpg">
<meta property="og:updated_time" content="2017-09-11T23:04:46.782Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Composite">
<meta name="twitter:description" content="IntroductionThe ParaView ArcticViewer is able to load several type of datasets, but this guide will focus on the basic composite one and will explain what are the requirements for it so you could crea">
<meta name="twitter:image" content="https://kitware.github.io/arctic-viewer/docs/formats/composite-sprite.jpg">
  <!-- Google Analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90338862-4', 'auto');
  ga('send', 'pageview');
</script>

</head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/arctic-viewer/" id="logo">ParaViewWeb</a>
    </h1>
    <nav id="main-nav">
      <a href="/arctic-viewer/docs/" class="main-nav-link">Docs</a>
      <a href="https://github.com/kitware/arctic-viewer" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">Composite</h1>
              </header>
              <div class="article-content" itemprop="articleBody">
                <h1 id="Introduction" class="article-heading"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction<a class="article-anchor" href="#Introduction" aria-hidden="true"></a></h1><p>The ParaView ArcticViewer is able to load several type of datasets, but this guide will focus on the basic composite one and will explain what are the requirements for it so you could create your own dataset.</p>
<h1 id="Dataset-structure" class="article-heading"><a href="#Dataset-structure" class="headerlink" title="Dataset structure"></a>Dataset structure<a class="article-anchor" href="#Dataset-structure" aria-hidden="true"></a></h1><p>ParaView ArcticViewer expect a dataset descriptor that will formalize that convention in a way it can be understood by the application. The application expect a file named <strong>index.json</strong> at the root of the tree structure (if any) with a content similar to the following one.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">"type"</span>: [ <span class="string">"tonic-query-data-model"</span>, <span class="string">"composite-pipeline"</span> ],</div><div class="line">    <span class="string">"arguments_order"</span>: [<span class="string">"time"</span>],</div><div class="line">    <span class="string">"arguments"</span>: &#123;</div><div class="line">        <span class="string">"time"</span>: &#123;</div><div class="line">            <span class="string">"values"</span>: [ <span class="string">"0"</span>, <span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span> ]</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="string">"data"</span>: [</div><div class="line">        &#123;</div><div class="line">            <span class="string">"name"</span>: <span class="string">"sprite"</span>,</div><div class="line">            <span class="string">"type"</span>: <span class="string">"blob"</span>,</div><div class="line">            <span class="string">"mimeType"</span>: <span class="string">"image/jpg"</span>,</div><div class="line">            <span class="string">"pattern"</span>: <span class="string">"&#123;time&#125;/rgb.jpg"</span></div><div class="line">        &#125;,&#123;</div><div class="line">            <span class="string">"name"</span>: <span class="string">"composite"</span>,</div><div class="line">            <span class="string">"type"</span>: <span class="string">"json"</span>,</div><div class="line">            <span class="string">"pattern"</span>: <span class="string">"&#123;time&#125;/composite.json"</span></div><div class="line">        &#125;,</div><div class="line">    ],</div><div class="line">    <span class="string">"CompositePipeline"</span>: &#123;</div><div class="line">        <span class="string">"layers"</span>: [<span class="string">"A"</span>, <span class="string">"B"</span>, <span class="string">"C"</span>],</div><div class="line">        <span class="string">"dimensions"</span>: [ <span class="number">500</span>, <span class="number">500</span> ],</div><div class="line">        <span class="string">"fields"</span>: &#123;</div><div class="line">            <span class="string">"A"</span>: <span class="string">"salinity"</span>,</div><div class="line">            <span class="string">"B"</span>: <span class="string">"temperature"</span>,</div><div class="line">            <span class="string">"C"</span>: <span class="string">"bottomDepth"</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">"layer_fields"</span>: &#123;</div><div class="line">            <span class="string">"A"</span>: [ <span class="string">"C"</span> ],</div><div class="line">            <span class="string">"B"</span>: [ <span class="string">"B"</span>, <span class="string">"A"</span> ],</div><div class="line">            <span class="string">"C"</span>: [ <span class="string">"B"</span>, <span class="string">"A"</span> ]</div><div class="line">        &#125;,</div><div class="line">        <span class="string">"offset"</span>: &#123;</div><div class="line">            <span class="string">"AC"</span>: <span class="number">1</span>,</div><div class="line">            <span class="string">"BA"</span>: <span class="number">3</span>,</div><div class="line">            <span class="string">"BB"</span>: <span class="number">2</span>,</div><div class="line">            <span class="string">"CA"</span>: <span class="number">5</span>,</div><div class="line">            <span class="string">"CB"</span>: <span class="number">4</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">"pipeline"</span>: [</div><div class="line">            &#123;</div><div class="line">                <span class="string">"ids"</span>: [ <span class="string">"A"</span> ],</div><div class="line">                <span class="string">"name"</span>: <span class="string">"Earth core"</span>,</div><div class="line">            &#125;,&#123;</div><div class="line">                <span class="string">"ids"</span>: [ <span class="string">"B"</span>, <span class="string">"C"</span> ],</div><div class="line">                <span class="string">"name"</span>: <span class="string">"Contour by temperature"</span>,</div><div class="line">                <span class="string">"children"</span>: [</div><div class="line">                    &#123;</div><div class="line">                        <span class="string">"ids"</span>: [ <span class="string">"B"</span> ],</div><div class="line">                        <span class="string">"name"</span>: <span class="string">"t=25.0"</span>,</div><div class="line">                        <span class="string">"type"</span>: <span class="string">"layer"</span></div><div class="line">                    &#125;,&#123;</div><div class="line">                        <span class="string">"ids"</span>: [ <span class="string">"C"</span> ],</div><div class="line">                        <span class="string">"name"</span>: <span class="string">"t=20.0"</span>,</div><div class="line">                        <span class="string">"type"</span>: <span class="string">"layer"</span></div><div class="line">                    &#125;</div><div class="line">                ],</div><div class="line">            &#125;</div><div class="line">        ]</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>In that meta description, we find the pipeline tree described but also we have the mapping of the image sprite with the layer and its color by. The first character is the layer and the second one is the actual field used for the color by.</p>
<p>Then for each query (view position, time, configuration, â€¦), the dataset is composed of an <strong>image sprite</strong> and a <strong>composite.json</strong> file.</p>
<p>The image sprite represent each layer independently with each of its ColorBy settings.</p>
<p>The <strong>composite.json</strong> on the other end, provide the pixel ordering for each of the possible layers with a content similar to the following one:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">"pixel-order"</span>: <span class="string">"@2258+A+CBA+CA+CB+..."</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>The <strong>pixel-order</strong> string describe the layer order for each pixel starting from the top left corner of the image.</p>
<p>The encoding can be described as follow:</p>
<ul>
<li><strong>@456</strong> : Skip 456 pixels as no layer are contributing to those pixels.</li>
<li><strong>CBA</strong>: For the given pixel, the layer <em>C</em> is on top of <em>B</em> which is on top of <em>A</em>. Which Mean if <em>C</em> is hidden, then the pixel of the layer <em>B</em> should be used.</li>
<li><strong>+</strong> : Character delimiter between pixel or pixel group.</li>
</ul>
<h1 id="Image-Sprite" class="article-heading"><a href="#Image-Sprite" class="headerlink" title="Image Sprite"></a>Image Sprite<a class="article-anchor" href="#Image-Sprite" aria-hidden="true"></a></h1><p><img src="/arctic-viewer/docs/formats/composite-sprite.jpg" alt="Image Sprite of each layer"></p>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2017-09-11T23:04:46.782Z" itemprop="dateModified">Last updated: 2017-09-11</time>
                <a href="/arctic-viewer/docs/index.html" class="article-footer-next" title="Overview"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Introduction"><span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Dataset-structure"><span class="toc-text">Dataset structure</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Image-Sprite"><span class="toc-text">Image Sprite</span></a></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner"><strong class="sidebar-title">Getting Started</strong><a href="/arctic-viewer/docs/index.html" class="sidebar-link">Overview</a><strong class="sidebar-title">Miscellaneous</strong><a href="/arctic-viewer/docs/tools.html" class="sidebar-link">Tools</a><a href="/arctic-viewer/docs/troubleshooting.html" class="sidebar-link">Troubleshooting</a><a href="/arctic-viewer/docs/contributing.html" class="sidebar-link">Contributing</a><strong class="sidebar-title">Formats</strong><a href="/arctic-viewer/docs/formats/ImageBasedFormat.html" class="sidebar-link">Image based</a><a href="/arctic-viewer/docs/formats/CompositeFormat.html" class="sidebar-link">Composite</a><a href="/arctic-viewer/docs/formats/DepthSortedCompositeFormat.html" class="sidebar-link">Sorted Composite</a><a href="/arctic-viewer/docs/formats/ProbeFormat.html" class="sidebar-link">Probe</a><a href="/arctic-viewer/docs/formats/EnsembleFormat.html" class="sidebar-link">Ensemble</a><strong class="sidebar-title">Available</strong><a href="http://kitware.github.io/arctic-viewer-ios" class="sidebar-link">iOS</a><a href="/arctic-viewer/docs/electron.html" class="sidebar-link">Desktop</a></div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2017 <a href="http://www.kitware.com" target="_blank">Kitware Inc.</a>
    </div>
    <div id="footer-links">
      <a href="https://github.com/kitware/arctic-viewer" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/arctic-viewer/docs/" class="mobile-nav-link">Docs</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/kitware/arctic-viewer" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Getting Started</strong><a href="/arctic-viewer/docs/index.html" class="mobile-nav-link">Overview</a><strong class="mobile-nav-title">Miscellaneous</strong><a href="/arctic-viewer/docs/tools.html" class="mobile-nav-link">Tools</a><a href="/arctic-viewer/docs/troubleshooting.html" class="mobile-nav-link">Troubleshooting</a><a href="/arctic-viewer/docs/contributing.html" class="mobile-nav-link">Contributing</a><strong class="mobile-nav-title">Formats</strong><a href="/arctic-viewer/docs/formats/ImageBasedFormat.html" class="mobile-nav-link">Image based</a><a href="/arctic-viewer/docs/formats/CompositeFormat.html" class="mobile-nav-link">Composite</a><a href="/arctic-viewer/docs/formats/DepthSortedCompositeFormat.html" class="mobile-nav-link">Sorted Composite</a><a href="/arctic-viewer/docs/formats/ProbeFormat.html" class="mobile-nav-link">Probe</a><a href="/arctic-viewer/docs/formats/EnsembleFormat.html" class="mobile-nav-link">Ensemble</a><strong class="mobile-nav-title">Available</strong><a href="http://kitware.github.io/arctic-viewer-ios" class="mobile-nav-link">iOS</a><a href="/arctic-viewer/docs/electron.html" class="mobile-nav-link">Desktop</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="docs/formats/CompositeFormat.html">
      
        <option value="en" selected>English</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->
<script src="/arctic-viewer/js/lang_select.js"></script>
<script src="/arctic-viewer/js/toc.js"></script>
<script src="/arctic-viewer/js/mobile_nav.js"></script>
<!-- endbuild -->
<script src="https://cdn.jsdelivr.net/retinajs/1.3.0/retina.min.js" async></script>



</body>
</html>